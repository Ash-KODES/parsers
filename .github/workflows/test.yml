# SPDX-License-Identifier: Apache-2.0

name: test

on:
  push:
    branches: ['main']
  pull_request:

jobs:
  test:
    name: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@93ea575cb5d8a053eaa0ac8fa3b40d7e05a33cc8 # v3
      - uses: actions/setup-go@c4a742cab115ed795e34d4513e2cf7d472deb55f # v3
        with:
          go-version: 1.19
          check-latest: true
      - name: Setup node
        uses: actions/setup-node@64ed1c7eab4cce3362f8c340dee64e5eaeef8f7c
          with:
            node-version: 18.16.0
      - name: Install dependencies with yarn
        uses: borales/actions-yarn@97ba8bebfe5b549bb7999261698a52a81fd62f1b
        with:
          cmd: install
          dir: 'parsers/parsers/yarn'

      - run: go test -v ./...
